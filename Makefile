.PHONY: generate test lint

generate:
	protoc -I./testdata --gofast_out=paths=source_relative:./testdata/pb message.proto

test:
	go test -v ./...
	go test -v ./testdata/generated/...

test-race:
	go test -v -race -count=1 ./...
	go test -v -race -count=1 ./testdata/generated/...

lint:
	go fmt ./...